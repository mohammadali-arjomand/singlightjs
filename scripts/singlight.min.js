class Singlight{constructor(t){this.property=t}mount(t){console.log("BOOTSTRAPER RUNNED"),this.selector=document.querySelector(t),this.current=this.property.root+"/"+this.property.home,this.history=[],this.urlBuilder(this.current,!1)}urlBuilder(t){this.current=t,this.history.push(this.current),this.loader()}loader(){async function t(t,e){try{let r;void 0!==e.params&&(r={method:"POST",body:e.params});let i=await fetch(t,r),s=await i.text();i.ok&&e.renderer(s)}catch{}}t(this.current,this)}renderer(t){this.selector.innerHTML=t,this.scanner()}scanner(){document.querySelectorAll("a").forEach(t=>{t.addEventListener("click",e=>this.eventHandler(e,t))});document.querySelectorAll("form").forEach(t=>{t.addEventListener("submit",e=>this.eventHandler(e,t))})}eventHandler(t,e){"A"==t.target.nodeName?(t.preventDefault(),void 0!==e.href&&(this.params=void 0,this.urlBuilder(e.href,!1))):(t.preventDefault(),void 0!==e.action?(this.params=new FormData(e),this.urlBuilder(e.action,!1)):console.log("action Attribute is require"))}}